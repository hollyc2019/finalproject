---
title: "FinalProject"
author: "Holly Christensen"
date: "October 19, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(readxl)
```

```{r, echo=FALSE}
rollingsales_manhattan <- read_excel("rollingsales_manhattan.xls", skip = 4) 
manhattan <- rollingsales_manhattan %>% 
  filter(`BUILDING CLASS CATEGORY` == c("01 ONE FAMILY DWELLINGS", "02 TWO FAMILY DWELLINGS", "03 THREE FAMILY DWELLINGS", "07 RENTALS - WALKUP APARTMENTS", "08 RENTALS - ELEVATOR APARTMENTS", "09 COOPS - WALKUP APARTMENTS", "10 COOPS - ELEVATOR APARTMENTS"), `SALE PRICE` <= 10000000) %>% 
  group_by(`BUILDING CLASS CATEGORY`, `NEIGHBORHOOD`)

```

```{r}
library(shiny)
ui <- fluidPage(titlePanel("Manhattan Housing Data"), h2("by Holly Christensen"), sidebarLayout(
  sidebarPanel(sliderInput("priceInput", "Price", min = 0, max = 10000000,
            value = c(25, 40), pre = "$"), radioButtons("typeInput", "Housing type",
            choices = c("ONE FAMILY", "TWO FAMILY", "THREE FAMILY", "RENTAL WALK-UP", "RENTAL ELEVATOR", "COOP WALK-UP", "COOP ELEVATOR")), selectInput("areaInput", "Neighborhood",
            choices = c("ALPHABET CITY", "CHELSEA", "CHINATOWN", "CIVIC CENTER", "CLINTON", "EAST VILLAGE", "FASHION", "FINANCIAL", "FLATIRON", "GRAMERCY", "GREENWICH VILLAGE-CENTRAL", "GREENWICH VILLAGE-WEST", "HARLEM-CENTRAL", "HARLEM-EAST", "HARLEM-UPPER", "HARLEM-WEST", "INWOOD", "JAVITS CENTER", "KIPS BAY", "LITTLE ITALY", "LOWER EAST SIDE", "MANHATTAN VALLEY", "MIDTOWN CBD", "MIDTOWN EAST", "MIDTOWN WEST", "MORNINGSIDE HEIGHTS", "MURRAY HILL", "ROOSEVELT ISLAND", "SOHO", "SOUTHBRIDGE", "TRIBECA", "UPPER EAST SIDE (59-79)", "UPPER EAST SIDE (79-96)", "UPPER EAST SIDE (96-110)", "UPPER WEST SIDE (59-79)", "UPPER WEST SIDE (79-96)", "UPPER WEST SIDE (96-116)", "WASHINGTON HEIGHTS LOWER", "WASHINGTON HEIGHTS UPPER"))),
  mainPanel("the results will go here")))
server <- function(input, output) {}
shinyApp(ui = ui, server = server)
```


```{r}
# Define UI for application that draws a histogram
ui <- fluidPage(
   
   # Application title
   titlePanel("Manhattan Housing Data"),
   
   # Sidebar with a slider input for number of bins 
   sidebarLayout(
      sidebarPanel(
         sliderInput("bins",
                     "Number of bins:",
                     min = 1,
                     max = 50,
                     value = 30)
      ),
      
      # Show a plot of the generated distribution
      mainPanel(
         plotOutput("distPlot")
      )
   )
)

# Define server logic required to draw a histogram
server <- function(input, output) {
   
   output$distPlot <- renderPlot({
      # generate bins based on input$bins from ui.R
      x    <- faithful[, 2] 
      bins <- seq(min(x), max(x), length.out = input$bins + 1)
      
      # draw the histogram with the specified number of bins
      hist(x, breaks = bins, col = 'darkgray', border = 'white')
   })
}

# Run the application 
shinyApp(ui = ui, server = server)
```

## Project Description

The data I have chose to use is the New York City Taxi & Limousine Commission’s (TLC) dataset covering over 1.1 billion individual taxi trips in the city from January 2009 until June 2018. Analyzing this data will give me at large, a story of New York, but also give me interesting insight as to what areas of the city are trendy now compared to in the past as well as where traffic is the worst and at what times. Questions like: how bad is the rush hour traffic from Midtown to JFK? and What times do investment bankers get to work? are both questions that I could answer from this dataset. I am particularly interested in how ride-hailing services like Uber have changed the city’s landscape for taxis. This is especially timely research because of NYC’s recent cap on Uber/Lyft drivers and cars over that last few months. 

## Raw Data

Given the size of the data, I will need to cut it down substantially for my needs once I decide what questions I'd like to ask/areas I'd like to analyze further. I found the data from this URL: http://www.nyc.gov/html/tlc/html/about/trip_record_data.shtml
I will focus my attention on the latest 2018 data, most likely narrowing my scope to the most recent June dataset. I have not yet decided if I will be able to/want to use all the different types of trip records (Yellow - standard taxi, Green - fuel efficient taxi, and FHV - for hire vehicle). 

## Past homework data import

I will need help to cut down the datasets for my final project, so in the meantime I'll import a dataset we've used in the past to show that I know how to add data to a repo and push it to GitHub.

```{r}
raw2018 <- read_excel("/Users/hollychristensen/Desktop/class_2018-10-15/2018data.xlsx", skip = 2)
```

